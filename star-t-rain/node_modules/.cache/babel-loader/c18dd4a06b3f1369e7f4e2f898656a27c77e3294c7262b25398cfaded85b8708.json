{"ast":null,"code":"import { axiosAuth } from \"../lib/axios\";\n// import { toast } from \"react-toastify\";\n\nconst axiosClient = axiosAuth.create({\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\naxiosClient.interceptors.request.use(config => {\n  const accessToken = localStorage.getItem(\"access_token\"); // (\"access_token\") thay doi ten trong localStorage.\n  if (accessToken) {\n    config.headers[\"Authorization\"] = `Bearer ${accessToken}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxiosClient.interceptors.response.use(async response => {\n  if (response && response.data) return response.data;\n  return response;\n}, async error => {\n  if (error.response.status === 401) {\n    localStorage.clear();\n    // toast.warning(\"access token expires !\");\n    window.location.href = \"/login-page\"; //\"/login-page\" day sang trang login\n  }\n  return Promise.reject(error);\n});\nexport default axiosClient;","map":{"version":3,"names":["axiosAuth","axiosClient","create","headers","interceptors","request","use","config","accessToken","localStorage","getItem","error","Promise","reject","response","data","status","clear","window","location","href"],"sources":["D:/Chuyên ngành/chuyên ngành 8/EXE201/BB/Bunbo/star-t-rain/src/utils/AxiosDB.js"],"sourcesContent":["\nimport { axiosAuth } from \"../lib/axios\";\n// import { toast } from \"react-toastify\";\n\nconst axiosClient = axiosAuth.create({\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n    },\n});\n\naxiosClient.interceptors.request.use(\n    (config) => {\n        const accessToken = localStorage.getItem(\"access_token\"); // (\"access_token\") thay doi ten trong localStorage.\n        if (accessToken) {\n            config.headers[\"Authorization\"] = `Bearer ${accessToken}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\naxiosClient.interceptors.response.use(\n    async (response) => {\n        if (response && response.data) return response.data;\n        return response;\n    },\n    async (error) => {\n        if (error.response.status === 401) {\n            localStorage.clear();\n            // toast.warning(\"access token expires !\");\n            window.location.href = \"/login-page\"; //\"/login-page\" day sang trang login\n        }\n\n        return Promise.reject(error);\n    }\n);\n\nexport default axiosClient;"],"mappings":"AACA,SAASA,SAAS,QAAQ,cAAc;AACxC;;AAEA,MAAMC,WAAW,GAAGD,SAAS,CAACE,MAAM,CAAC;EACjCC,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClC,6BAA6B,EAAE;EACnC;AACJ,CAAC,CAAC;AAEFF,WAAW,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAK;EACR,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;EAC1D,IAAIF,WAAW,EAAE;IACbD,MAAM,CAACJ,OAAO,CAAC,eAAe,CAAC,GAAI,UAASK,WAAY,EAAC;EAC7D;EACA,OAAOD,MAAM;AACjB,CAAC,EACAI,KAAK,IAAK;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAEDV,WAAW,CAACG,YAAY,CAACU,QAAQ,CAACR,GAAG,CACjC,MAAOQ,QAAQ,IAAK;EAChB,IAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,OAAOD,QAAQ,CAACC,IAAI;EACnD,OAAOD,QAAQ;AACnB,CAAC,EACD,MAAOH,KAAK,IAAK;EACb,IAAIA,KAAK,CAACG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IAC/BP,YAAY,CAACQ,KAAK,CAAC,CAAC;IACpB;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,aAAa,CAAC,CAAC;EAC1C;EAEA,OAAOR,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,eAAeV,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}